# 리액트 불변성 지키기
## 리액트에서 불변성
- 값이나 상태를 변경할 수 없는 것
### JS 타입을 통한 불변성 의미 살펴보기
- 원시 타입은 immutable
- 참조 타입은 mutable
- 기본적으로 JS는 원시 타입에 대한 참조 및 값을 저장하기 위해 Call Stack 메모리 공간을 사용함
- 참조 타입의 경우 Heap이라는 별도의 메모리 공간 사용
	- 이 경우 Call Stack은 객체 및 배열 값이 아닌 메모리에만 Heap 메모리 참조 ID를 값으로 저장
	- [!] 값 변경 시 참조 ID는 동일하게 유지되고 Heap 메모리에서 값 변경됨 -> 원본 데이터 변경!!
## 불변성을 지켜야 하는 이유
1. 참조 타입에서 객체나 배열의 값이 변할 때 원본 데이터가 변경되기에 이 원본 데이터를 참조하고 있는 다른 객체에서 예상치 못한 오류가 발생할 수 있음 → 예상치 못한 오류 발생 가능 (프로그래밍 복잡도 올라감)
2. 리액트에서 화면을 업데이트할 때 불변성을 지켜서 값을 이전 값과 비교해서 변경된 사항을 확인한 후 업데이트하기 때문에 불변성을 지켜야 함
## 불변성을 지키는 방법
- 참조 타입 값을 변경할 때 Call Stack 주소 값은 같은데 Heap 메모리 값만 바꿔주기 때문에 불변성 유지 불가능
- 아예 새로운 배열을 반환하는 메소드를 사용하면 됨
	- spread operator
	- map
	- filter
	- slice
	- reduce
- 원본 데이터를 변경하는 메소드
	- splice
	- push