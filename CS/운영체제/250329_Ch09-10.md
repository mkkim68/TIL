# 9. 운영체제 시작하기
## 1. 운영체제를 알아야 하는 이유
### 운영체제란
- 시스템 자원: 프로그램 실행에 마땅히 필요한 요소들
- 운영체제: 실행할 프로그램에 필요한 자원 할당, 프로그램이 올바르게 실행되도록 돕는 특별한 프로그램
	- 컴퓨터가 부팅될 때 메모리 내 *커널 영역*에 따로 적재되어 실행
	- 사용자 영역: 커널 영역을 제외한 나머지, 사용자가 이용하는 응용 프로그램이 적재되는 영역
![](../../img/250324_1.png)
- 응용 프로그램과 하드웨어 사이에서 응용 프로그램에 필요한 자원 할당, 올바르게 실행되도록 관리
### 운영체제를 알아야 하는 이유
- *문제 해결의 실마리*를 찾을 수 있다
## 2. 운영체제의 큰 그림
### 운영체제의 심장, 커널
- 운영체제의 핵심 서비스를 담당하는 부분
![](../../img/250324_2.png)
- 운영체제가 제공하는 서비스 중 *커널에 포함 X*
	- 사용자 인터페이스: 윈도우의 바탕화면과 같이 사용자가 컴퓨터와 상호작용할 수 있는 통로
		- 그래픽 유저 인터페이스(GUI: Graphic User Interface)
		- 커맨드 라인 인터페이스(CLI: Command Line Interface)
### 이중 모드와 시스템 호출
- 운영체제는 응용 프로그램이 자원에 직접 접근하는 것을 막아 자원 보호
- 이중 모드(dual mode): CPU가 명령어를 실행하는 모드를 크게 사용자 모드와 커널 모드로 구분하는 방식
	- 사용자 모드(user mode): 운영체제 서비스를 제공받을 수 없는 실행 모드
		- 커널 영역 코드 실행 불가능한 모드
		- 입출력 명령어 같은 하드웨어 자원에 접근 불가능
	- 커널 모드(kernel mode): 운영체제 서비스를 제공받을 수 있는 실행 모드
		- 커널 영역의 코드 실행
		- 자원에 접근하는 명령어 등 모든 명령어 실행 가능
- 시스템 호출(system call): 운영체제 서비스를 제공받기 위한 요청
	- 일종의 인터럽트임 (소프트웨어적인 인터럽트)
![](../../img/250324_3.png)
1. 하드디스크에 데이터를 저장하는 시스템 호출 발생시켜 커널 모드로 전환
2. 운영체제 내의 '하드디스크에 데이터를 저장하는 코드'를 실행함으로써 하드디스크에 접근
3. 하드디스크에 접근이 끝났다면 다시 사용자 모드로 복귀
### 운영체제의 핵심 서비스
#### 프로세스 관리
- 프로세스: 실행중인 프로그램
	- 일반적으로 CPU는 한 번에 하나의 프로세스만 실행 가능
	-> 운영체제가 프로세스 관리&실행
#### 자원 접근 및 할당
##### CPU
- 프로세스에게 CPU를 공정하게 할당하기 위해 *CPU 스케줄링*
##### 메모리
- 프로세스를 어느 주소에 적재할지, 메모리 공간 관리
##### 입출력장치
- 인터럽트 서비스 루틴(인터럽트를 처리하는 프로그램) 제공함으로써 입출력 작업 수행
##### 파일 시스템 관리
- 파일/폴더 열기, 생성, 삭제 등 파일 시스템도 운영체제가 관리
	- 보조기억장치 속 데이터를 파일과 디렉토리로 관리
### 가상 머신과 이중 모드의 발전
- 가상 머신: 소프트웨어적으로 만들어낸 가상 컴퓨터
![](../../img/250324_4.png)
- 가상화 지원하는 CPU는 가상 머신을 위한 모드인 *하이퍼바이저 모드*를 따로 제공
### 시스템 호출의 종류
![](../../img/250324_5.png)